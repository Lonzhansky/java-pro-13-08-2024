
Використання семафору для захисту
кількох копій ресурсу в Java
=====================================

Семафор працює за концепцією дозволів.

Семафор ініціалізується з певною кількістю дозволів.
Кількість дозволів дорівнює кількості доступних загальних ресурсів.

Коли потік хоче отримати доступ до спільного ресурсу, він отримує
дозвіл, а після завершення доступу до спільного ресурсу звільняє
Дозвіл.


Бізнес-кейс
ATM (банкомат) центр (відділення банку)
-------------------------------------------
Люди чекають у черзі у банкоматному центрі.
Якщо є 2 банкомати, одночасно лише 2 особи
можуть отримати доступ до банкомату та зняти гроші.

Коли клієнт входить до банкоматного центру, він отримує дозвіл,
якщо таке є, потім перевіряє, який із банкоматів вільний
для використання.

Як тільки він отримує доступний банкомат, він блокує його,
а потім вводить PIN-код та знімає гроші.

Після зняття він знімає блокування на банкоматі, а також звільняє
семафор.

Причина, через яку він повинен заблокувати банкомат перед зняттям
грошей, полягає в тому, що 2 особи після отримання семафору опиняться
перед тим самим банкоматом.

Тут банкомат є загальним ресурсом, а кількість семафорів дорівнює
кількості банкоматів.

